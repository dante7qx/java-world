<?xml version="1.0" encoding="utf-8" standalone="no"?>
<uml map="~=element.base.;#=element.custom;" ver="1.0.12.0709">
  <diagram name="deerjet-login.uml">
    <help>// --- configuration ---
// watermark=
// fontsize=14
fontface=Microsoft YaHei
</help>
    <zoom>10</zoom>
    <e>
      <type>#InitialState</type>
      <geom>80,90,20,20</geom>
      <panel>i</panel>
      <attr/>
    </e>
    <e>
      <type>~Relation</type>
      <geom>360,90,91,121</geom>
      <panel>lt=&lt;&lt;-
fg=blue
p2=No</panel>
      <attr>80;10;40;10;40;90;10;90</attr>
    </e>
    <e>
      <type>~Relation</type>
      <geom>270,190,41,61</geom>
      <panel>lt=&lt;&lt;-
fg=blue
p2=Yes</panel>
      <attr>30;50;30;10</attr>
    </e>
    <e>
      <type>#SendSignal</type>
      <geom>250,240,100,40</geom>
      <panel>Login OK
bg=yellow</panel>
      <attr/>
    </e>
    <e>
      <type>#Decision</type>
      <geom>230,160,140,40</geom>
      <panel>'superadmin'</panel>
      <attr/>
    </e>
    <e>
      <type>#State</type>
      <geom>780,160,100,40</geom>
      <panel>Password Auth</panel>
      <attr/>
    </e>
    <e>
      <type>#Decision</type>
      <geom>620,80,120,40</geom>
      <panel>isSysUser()?</panel>
      <attr/>
    </e>
    <e>
      <type>#Decision</type>
      <geom>440,80,140,40</geom>
      <panel>user in db?</panel>
      <attr/>
    </e>
    <e>
      <type>#Decision</type>
      <geom>230,80,140,40</geom>
      <panel>productionMode?</panel>
      <attr/>
    </e>
    <e>
      <type>~Relation</type>
      <geom>150,110,21,91</geom>
      <panel>lt=&lt;&lt;-
fg=blue</panel>
      <attr>10;10;10;80</attr>
    </e>
    <e>
      <type>~Relation</type>
      <geom>190,300,221,101</geom>
      <panel>lt=.!&gt;
bt=~
fg=crimson</panel>
      <attr>10;90;150;90;150;10;210;10</attr>
    </e>
    <e>
      <type>~Relation</type>
      <geom>270,110,41,61</geom>
      <panel>lt=&lt;&lt;-
fg=blue
p2=No</panel>
      <attr>30;50;30;10</attr>
    </e>
    <e>
      <type>~Relation</type>
      <geom>150,230,301,131</geom>
      <panel>lt=&lt;&lt;-
fg=blue</panel>
      <attr>10;10;10;120;290;120;290;100</attr>
    </e>
    <e>
      <type>~Relation</type>
      <geom>150,230,551,131</geom>
      <panel>lt=&lt;&lt;-
fg=blue</panel>
      <attr>10;10;10;120;540;120;540;100</attr>
    </e>
    <e>
      <type>~Note</type>
      <geom>90,370,110,40</geom>
      <panel>蓝色背景部分是
DeerJet特有流程
fg=crimson
bt=.</panel>
      <attr/>
    </e>
    <e>
      <type>~UseCase</type>
      <geom>100,190,130,50</geom>
      <panel>lt=.
尝试n次以上
则锁定帐户</panel>
      <attr/>
    </e>
    <e>
      <type>#Text</type>
      <geom>350,420,280,30</geom>
      <panel>DeerJet系统用户登录处理逻辑图 v1.0
fontsize=16
fg=indigo</panel>
      <attr/>
    </e>
    <e>
      <type>#SendSignal</type>
      <geom>400,290,100,40</geom>
      <panel>Re-Login
bg=sky</panel>
      <attr/>
    </e>
    <e>
      <type>#SendSignal</type>
      <geom>640,290,100,40</geom>
      <panel>Re-Login
bg=yellow</panel>
      <attr/>
    </e>
    <e>
      <type>~Relation</type>
      <geom>730,90,121,81</geom>
      <panel>lt=&lt;&lt;-
fg=blue
p2=Yes</panel>
      <attr>110;70;110;10;10;10</attr>
    </e>
    <e>
      <type>~Relation</type>
      <geom>810,240,51,61</geom>
      <panel>lt=&lt;&lt;-
fg=blue
Yes</panel>
      <attr>30;50;30;20;10;20</attr>
    </e>
    <e>
      <type>~Relation</type>
      <geom>670,240,41,61</geom>
      <panel>lt=&lt;&lt;-
fg=blue
No</panel>
      <attr>20;50;20;20;30;20</attr>
    </e>
    <e>
      <type>#Decision</type>
      <geom>700,240,120,40</geom>
      <panel>Auth OK?</panel>
      <attr/>
    </e>
    <e>
      <type>~Relation</type>
      <geom>290,320,301,71</geom>
      <panel>lt=&lt;&lt;-
fg=blue</panel>
      <attr>10;10;10;60;290;60;290;10</attr>
    </e>
    <e>
      <type>~Relation</type>
      <geom>290,320,561,71</geom>
      <panel>lt=&lt;&lt;-
fg=blue</panel>
      <attr>10;10;10;60;550;60;550;10</attr>
    </e>
    <e>
      <type>~Relation</type>
      <geom>750,190,101,61</geom>
      <panel>lt=&lt;&lt;-
fg=blue</panel>
      <attr>10;50;10;30;90;30;90;10</attr>
    </e>
    <e>
      <type>~Relation</type>
      <geom>550,250,41,51</geom>
      <panel>lt=&lt;&lt;-
p2=Yes
fg=forest</panel>
      <attr>30;40;30;10</attr>
    </e>
    <e>
      <type>~Relation</type>
      <geom>410,250,41,51</geom>
      <panel>lt=&lt;&lt;-
p2=No
fg=forest</panel>
      <attr>30;40;30;10</attr>
    </e>
    <e>
      <type>~Relation</type>
      <geom>500,190,21,61</geom>
      <panel>lt=&lt;&lt;-
fg=forest</panel>
      <attr>10;50;10;30;10;10</attr>
    </e>
    <e>
      <type>~Relation</type>
      <geom>670,190,101,61</geom>
      <panel>lt=&lt;&lt;-
fg=blue</panel>
      <attr>90;50;90;30;10;30;10;10</attr>
    </e>
    <e>
      <type>~Relation</type>
      <geom>650,110,41,61</geom>
      <panel>lt=&lt;&lt;-
fg=blue
p2=No</panel>
      <attr>30;50;30;10</attr>
    </e>
    <e>
      <type>~Relation</type>
      <geom>480,110,41,61</geom>
      <panel>lt=&lt;&lt;-
fg=blue
p2=No</panel>
      <attr>30;50;30;10</attr>
    </e>
    <e>
      <type>~Relation</type>
      <geom>570,90,61,41</geom>
      <panel>lt=&lt;&lt;-
fg=blue
p2=Yes</panel>
      <attr>50;10;10;10</attr>
    </e>
    <e>
      <type>~Relation</type>
      <geom>360,90,91,41</geom>
      <panel>lt=&lt;&lt;-
fg=blue
p2=Yes</panel>
      <attr>80;10;10;10</attr>
    </e>
    <e>
      <type>~Relation</type>
      <geom>290,270,21,51</geom>
      <panel>lt=&lt;&lt;-
fg=blue</panel>
      <attr>10;40;10;10</attr>
    </e>
    <e>
      <type>~Relation</type>
      <geom>90,90,51,21</geom>
      <panel>lt=&lt;&lt;-
fg=blue</panel>
      <attr>40;10;10;10</attr>
    </e>
    <e>
      <type>~Relation</type>
      <geom>180,90,61,21</geom>
      <panel>lt=&lt;&lt;-
fg=blue</panel>
      <attr>50;10;10;10</attr>
    </e>
    <e>
      <type>#Decision</type>
      <geom>440,240,140,40</geom>
      <panel>NTLM Auth OK?
bg=sky</panel>
      <attr/>
    </e>
    <e>
      <type>#SendSignal</type>
      <geom>530,290,100,40</geom>
      <panel>UserNeedSync
bg=sky</panel>
      <attr/>
    </e>
    <e>
      <type>#State</type>
      <geom>630,160,100,40</geom>
      <panel>NTLM Auth
bg=sky</panel>
      <attr/>
    </e>
    <e>
      <type>#State</type>
      <geom>460,160,100,40</geom>
      <panel>NTLM Auth
bg=sky</panel>
      <attr/>
    </e>
    <e>
      <type>#SendSignal</type>
      <geom>780,290,100,40</geom>
      <panel>Login OK
bg=yellow</panel>
      <attr/>
    </e>
    <e>
      <type>#FinalState</type>
      <geom>290,310,20,20</geom>
      <panel>i</panel>
      <attr/>
    </e>
    <e>
      <type>#State</type>
      <geom>130,80,60,40</geom>
      <panel>login</panel>
      <attr/>
    </e>
  </diagram>
</uml>
